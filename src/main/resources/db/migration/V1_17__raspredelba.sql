alter table teacher_courses
    rename to course_group;


drop sequence teacher_courses_seq;
create sequence course_group_seq start with 1 increment by 50;

alter table course
    add column subject2_id varchar(255),
    add column subject3_id varchar(255);

alter table if exists course
    add constraint FK_COURSE_ON_SUBJECT2ID foreign key (subject2_id) references subject,
    add constraint FK_COURSE_ON_SUBJECT3ID foreign key (subject3_id) references subject;

alter table student_courses
    drop constraint fkc614in0kdhj9sih7vw304qxgj,
    drop column course_id,
    ADD COLUMN course_group_id bigint,
    add constraint FK_STUDENTCOURSES_ON_COURSEGROUPID foreign key (course_group_id) references course_group;

INSERT INTO semester(code, semester_type, year)
VALUES ('2022/2023-S', 'SUMMER', '2022/2023'),
       ('2022/2023-W', 'WINTER', '2022/2023'),
       ('2023/2024-S', 'SUMMER', '2023/2024'),
       ('2023/2024-W', 'WINTER', '2023/2024');

CREATE TABLE IF NOT EXISTS subject_name_mapping
(
    id         bigint NOT NULL PRIMARY KEY,
    old_name   VARCHAR(100),
    subject_id VARCHAR(10)
);
INSERT INTO subject_name_mapping(id, old_name, subject_id)
VALUES (1, 'Архитектура и организација на компјутери', 'F23L1S003'),
       (2, 'Објектно-ориентирано програмирање', 'F23L1S016'),
       (3, 'Бизнис статистика', 'F23L1S023'),
       (4, 'Маркетинг', 'F23L1S026'),
       (5, 'Компјутерски архитектури', 'F23L1S045'),
       (6, 'ИТ системи за учење', 'F23L1S052'),
       (7, 'Компјутерски компоненти', 'F23L1S116'),
       (8, 'Креативни вештини за решавање проблеми', 'F23L1S120'),
       (9, 'Основи на Веб дизајн', 'F23L1S146'),
--        (10, NULL, 'F23L1W003'),
       (11, 'Спорт и здравје', 'F23L1W004'),
       (12, 'Бизнис и менаџмент', 'F23L1W005'),
       (13, 'Вовед во компјутерските науки', 'F23L1W007'),
       (14, 'Професионални вештини', 'F23L1W018'),
       (15, 'Структурно програмирање', 'F23L1W020'),
       (16, 'Математика 2', 'F23L2S001'),
       (17, 'Анализа на софтверските барања', 'F23L2S002'),
       (18, 'Дискретна математика', 'F23L2S011'),
       (19, 'Објектно ориентирана анализа и дизајн', 'F23L2S015'),
       (20, 'Оперативни системи', 'F23L2S017'),
       (21, 'Софтверско инженерство', 'F23L2S029'),
       (22, 'Вештачка интелигенција', 'F23L2S030'),
       (23, 'Дискретни структури 2', 'F23L2S032'),
       (24, 'Калкулус 2', 'F23L2S034'),
       (25, 'Електрични кола', 'F23L2S042'),
       (26, 'ИКТ во образованието', 'F23L2S051'),
       (27, 'Безжични и мобилни системи', 'F23L2S061'),
       (28, 'Основи на сајбер безбедноста', 'F23L2S066'),
--        (29, NULL, 'F23L2S082'),
       (30, 'Вовед во екоинформатиката', 'F23L2S084'),
       (31, 'Вовед во случајни процеси', 'F23L2S090'),
       (32, 'Дигитално процесирање на слика', 'F23L2S095'),
       (33, 'Дизајн на алгоритми', 'F23L2S097'),
       (34, 'Е-влада', 'F23L2S099'),
       (35, 'Интернет технологии', 'F23L2S110'),
       (36, 'Компјутерска графика', 'F23L2S114'),
       (37, 'Концепти на информатичко општество', 'F23L2S119'),
       (38, 'Медиуми и комуникации', 'F23L2S124'),
       (39, 'Теорија на информации со дигитални комуникации', 'F23L2S164'),
       (40, 'Алгоритми и податочни структури', 'F23L2W001'),
       (41, 'Математика 1', 'F23L2W002'),
       (42, 'Избрани теми од математика', 'F23L2W003'),
       (43, 'Веројатност и статистика', 'F23L2W006'),
       (44, 'Компјутерски мрежи и безбедност', 'F23L2W014'),
       (45, 'Дискретни структури 1', 'F23L2W031'),
       (46, 'Калкулус 1', 'F23L2W033'),
       (47, 'Дизајн на дигитални кола', 'F23L2W041'),
       (48, 'Компјутерски мрежи', 'F23L2W046'),
       (49, 'Физика', 'F23L2W049'),
       (50, 'Мултимедијални технологии', 'F23L2W055'),
       (51, 'Основи на теоријата на информации', 'F23L2W067'),
       (52, 'Педагогија', 'F23L2W070'),
       (53, 'Дигитизација', 'F23L2W096'),
       (54, 'Економија за ИКТ инженери', 'F23L2W100'),
       (55, 'Инженерска математика', 'F23L2W104'),
       (56, 'Интернет програмирање на клиентска страна', 'F23L2W109'),
       (57, 'Основи на комуникациски системи', 'F23L2W147'),
       (58, 'Управување со техничка поддршка', 'F23L2W165'),
       (59, 'Шаблони за дизајн на кориснички интерфејси', 'F23L2W167'),
       (60, 'Алгоритми и податочни структури', 'F23L2W201'),
       (61, 'Дизајн на интеракцијата човек-компјутер', 'F23L3S010'),
       (62, 'Интегрирани системи', 'F23L3S012'),
       (63, 'Софтверски квалитет и тестирање', 'F23L3S019'),
       (64, 'Управување со ИКТ проекти', 'F23L3S022'),
       (65, 'Електронска и мобилна трговија', 'F23L3S025'),
       (66, 'Претприемништво', 'F23L3S028'),
       (67, 'Машинско учење', 'F23L3S036'),
       (68, 'Формални јазици и автомати', 'F23L3S039'),
       (69, 'Процесирање на сигналите', 'F23L3S047'),
       (70, 'Методика на информатиката', 'F23L3S054'),
       (71, 'Работа со надарени ученици', 'F23L3S057'),
       (72, 'Администрација на мрежи', 'F23L3S059'),
       (73, 'Виртуелизација', 'F23L3S062'),
       (74, 'Дизајн на компјутерски мрежи', 'F23L3S063'),
       (75, 'Физички дизајн и имплементација на информациски системи', 'F23L3S069'),
       (76, 'Македонски јазик', 'F23L3S070'),
       (77, 'Психологија на училишна возраст', 'F23L3S071'),
       (78, 'Агентно-базирани системи', 'F23L3S073'),
       (79, 'Биолошки инспирирано пресметување', 'F23L3S078'),
       (80, 'Веб пребарувачки системи', 'F23L3S080'),
       (81, 'Виртуелна реалност', 'F23L3S083'),
       (82, 'Вовед во биоинформатиката', 'F23L3S085'),
       (83, 'Вовед во когнитивни науки', 'F23L3S086'),
       (84, 'Вовед во мрежна наука', 'F23L3S087'),
       (85, 'Географски информациски системи', 'F23L3S091'),
       (86, 'Дигитална форензика', 'F23L3S093'),
       (87, 'Дигитални библиотеки', 'F23L3S094'),
       (88, 'Деловна пракса', 'F23L3S100'),
       (89, 'Етичко хакирање', 'F23L3S101'),
       (90, 'ИКТ за развој', 'F23L3S102'),
       (91, 'Интелигентни информациски системи', 'F23L3S106'),
       (92, 'Интелигентни системи', 'F23L3S107'),
       (93, 'Инфраструктурно програмирање', 'F23L3S111'),
       (94, 'Програмски јазици и компајлери', 'F23L3S112'),
       (95, 'Компјутерска анимација', 'F23L3S113'),
       (96, 'Компјутерски звук, музика и говор', 'F23L3S115'),
       (97, 'Континуирана интеграција и испорака', 'F23L3S118'),
       (98, 'Криптографија', 'F23L3S122'),
       (99, 'Мерење и анализа на интернет сообраќај', 'F23L3S125'),
       (100, 'Мобилни апликации', 'F23L3S127'),
       (101, 'Моделирање и менаџирање на бизнис процеси', 'F23L3S130'),
       (102, 'Моделирање и симулација', 'F23L3S131'),
       (103, 'Модерни трендови во роботика', 'F23L3S132'),
       (104, 'Мултимедиски системи', 'F23L3S135'),
       (105, 'Напредни бази на податоци', 'F23L3S138'),
       (106, 'Напредни теми од криптографија', 'F23L3S139'),
       (107, 'Неструктурирани бази на податоци', 'F23L3S141'),
       (108, 'Операциони истражувања', 'F23L3S144'),
       (109, 'Паралелно програмирање', 'F23L3S149'),
       (110, 'Податочно рударство', 'F23L3S150'),
       (111, 'Процесна роботика', 'F23L3S153'),
       (112, 'Сервисно ориентирани архитектури', 'F23L3S155'),
       (113, 'Складови на податоци и аналитичка обработка', 'F23L3S157'),
--        (114, NULL, 'F23L3S158'),
       (115, 'Софтверски дефинирана безбедност', 'F23L3S159'),
       (116, 'Софтверски дефинирани мрежи', 'F23L3S160'),
       (117, 'Споделување и пресметување во толпа', 'F23L3S162'),
--        (118, 'Статистичко моделирање', NULL),
       (119, 'Учење на далечина', 'F23L3S166'),
       (120, 'Дипломска работа', 'F23L3S168'),
       (121, 'Математика 3', 'F23L3W001'),
       (122, 'Бази на податоци', 'F23L3W004'),
       (123, 'Вовед во науката за податоци', 'F23L3W008'),
       (124, 'Дизајн и архитектура на софтвер', 'F23L3W009'),
       (125, 'Тимски проект', 'F23L3W021'),
       (126, 'Веб програмирање', 'F23L3W024'),
       (127, 'Менаџмент информациски системи', 'F23L3W027'),
--        (128, NULL, 'F23L3W033'),
       (129, 'Линеарна алгебра и примени', 'F23L3W035'),
       (130, 'Паралелно и дистрибуирано процесирање', 'F23L3W037'),
       (131, 'Програмски парадигми', 'F23L3W038'),
--        (132, NULL, 'F23L3W040'),
       (133, 'Информациска безбедност', 'F23L3W043'),
       (134, 'Компјутерска електроника', 'F23L3W044'),
       (135, 'Софтвер за вградливи системи', 'F23L3W048'),
       (136, 'Дизајн на образовен софтвер', 'F23L3W050'),
       (137, 'Компјутерска етика', 'F23L3W053'),
       (138, 'Персонализирано учење', 'F23L3W056'),
       (139, 'Самостоен проект', 'F23L3W058'),
       (140, 'Администрација на системи', 'F23L3W060'),
       (141, 'Дистрибуирани системи', 'F23L3W064'),
       (142, 'Мрежна безбедност', 'F23L3W065'),
       (143, 'Пресметување во облак', 'F23L3W068'),
       (144, 'Автономна роботика', 'F23L3W072'),
       (145, 'Администрација на бази податоци', 'F23L3W074'),
       (146, 'Анализа и дизајн на ИС', 'F23L3W075'),
       (147, 'Вовед во анализа на временските серии', 'F23L3W076'),
       (148, 'Веб базирани системи', 'F23L3W079'),
       (149, 'Визуелизација', 'F23L3W081'),
       (150, 'Вовед во паметни градови', 'F23L3W088'),
       (151, 'Вовед во препознавање на облици', 'F23L3W089'),
       (152, 'Дигитална постпродукција', 'F23L3W092'),
       (153, 'Дистрибуирано складирање на податоци', 'F23L3W098'),
       (154, 'Имплементација на софтверски системи со слободен и отворен код', 'F23L3W103'),
       (155, 'Иновации во ИКТ', 'F23L3W105'),
       (156, 'Интернет на нештата', 'F23L3W108'),
       (157, 'Компјутерски поддржано производство', 'F23L3W117'),
       (158, 'Блоковски вериги и критовалути', 'F23L3W121'),
       (159, 'Машинска визија', 'F23L3W123'),
       (160, 'Методологија на истражувањето во ИКТ', 'F23L3W126'),
       (161, 'Мобилни информациски системи', 'F23L3W128'),
       (162, 'Мобилни платформи и програмирање', 'F23L3W129'),
       (163, 'Мрежна и мобилна форензика', 'F23L3W133'),
       (164, 'Мултимедиски мрежи', 'F23L3W134'),
       (165, 'Напреден веб дизајн', 'F23L3W136'),
       (166, 'Напредна интеракција човек компјутер', 'F23L3W137'),
       (167, 'Напредно програмирање', 'F23L3W140'),
       (168, 'Обработка на природните јазици', 'F23L3W142'),
       (169, 'Оптички мрежи', 'F23L3W145'),
       (170, 'Основи на роботиката', 'F23L3W148'),
       (171, 'Програмирање на видео игри', 'F23L3W152'),
       (172, 'Рударење на масивни податоци', 'F23L3W154'),
       (173, 'Системи за поддршка при одлучувањето', 'F23L3W156'),
       (174, 'Социјални мрежи и медиуми', 'F23L3W161'),
       (175, 'Одржливи и енергетски ефикасни компјутерски системи', 'F23L3W162'),
       (176, 'Сензорски системи', 'F23L3W200');
